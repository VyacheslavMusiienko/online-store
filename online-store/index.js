(()=>{"use strict";var e={18:(e,t,n)=>{n.r(t)},272:(e,t,n)=>{n.r(t)},898:(e,t,n)=>{n.r(t)},903:(e,t,n)=>{n.r(t)},607:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(898),n(272),n(18),n(903);const a=i(n(942)),o=i(n(474)),c=i(n(996)),s=i(n(0)),d=i(n(979)),l=i(n(663)),u=i(n(921)),v=i(n(695)),m={"/":a.default,"/basket":o.default,"/p/:id":d.default,"/modal":c.default},p=()=>r(void 0,void 0,void 0,(function*(){const e=document.getElementById("header_container"),t=document.getElementById("page_container"),n=document.getElementById("footer_container");null!==e&&(e.innerHTML=`${yield l.default.render()}`),null!==n&&(n.innerHTML=`${yield u.default.render()}`);const r=v.default.parseRequestURL(),i=(r.resource?"/"+r.resource:"/")+(r.id?"/:id":"")+(r.verb?"/"+r.verb:""),a=m[i]?m[i]:s.default;null!==t&&(t.innerHTML=`${yield a.render()}`,yield a.after_render())}));window.addEventListener("hashchange",p),window.addEventListener("load",p)},399:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={addQueryParam:(e,t)=>{const n=new URL(window.location.href);localStorage.getItem(e)?n.searchParams.set(e,t):n.searchParams.delete(e),window.history.pushState({},"",n.toString())},isLocalStorage:(e,t)=>{t.length||"boolean"==typeof t?(localStorage.setItem(e,JSON.stringify(t)),n.addQueryParam(e,t)):t.length||(localStorage.removeItem(e),n.addQueryParam(e,t))},clipboard:()=>{if(navigator.clipboard){const e=window.location.href;navigator.clipboard.writeText(e).then((function(){alert("Text copied to the clipboard")}),(function(e){alert("Error when copying: "+e)}))}else alert("Your browser does not support Clipboard")}};t.default=n},875:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={unique:(e,t)=>Array.from(new Set(e.map((e=>e[t])))),sortBySelector:(e,t,n)=>e.sort(((e,r)=>e[t]>r[t]?"asc"===n?1:-1:e[t]<r[t]?"desc"===n?1:-1:0)),searchTo:(e,t)=>e.filter((e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)||e.rating.toString().includes(t)||e.price.toString().includes(t)||e.discountPercentage.toString().includes(t)||e.stock.toString().includes(t)||e.brand.toLowerCase().includes(t))),sortByBlock:(e,t,n)=>e.filter((e=>(0===t.length||t.includes(e.category))&&(0===n.length||n.includes(e.brand)))),locationSort:e=>{const t=new URL(window.location.href);for(const r of t.searchParams.keys()){if("sort"===r){const i=t.searchParams.get(r);if(null!==i){const t=i.split(" "),a=t[0],o=t[1];e=n.sortBySelector(e,a,o),localStorage.setItem(r,JSON.stringify(i))}}if(0===r.length||"search"===r){const i=t.searchParams.get(r);null!==i&&(e=n.searchTo(e,i),localStorage.setItem(r,JSON.stringify(i)))}if(0===r.length||"category"===r||"brand"===r){let i=[],a=[];if("category"===r){const e=t.searchParams.get(r);null!==e&&(i=e.split(","),localStorage.setItem(r,JSON.stringify(i)))}if("brand"===r){const e=t.searchParams.get(r);null!==e&&(a=e.split(","),localStorage.setItem(r,JSON.stringify(a)))}e=n.sortByBlock(e,i,a)}}return localStorage.setItem("getProduct",JSON.stringify(e)),e}};t.default=n},695:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={parseRequestURL:()=>{const e=(window.location.hash.slice(1).toLowerCase()||"/").split("/"),t={resource:null,id:null,verb:null};return t.resource=e[1],t.id=e[2],t.verb=e[3],t}};t.default=n},921:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r={render:()=>n(void 0,void 0,void 0,(function*(){return'\n        <footer class="footer">\n          <a class="link images" href="https://rs.school/js/">\n            <img class="footer__img" src="./rs_school_js.svg" alt="logo curs">\n          </a>\n\n          <p>2020</p>\n\n          <a class="link github"href="https://github.com/VyacheslavMusiienko">My link</a>\n        </footer>\n        '}))};t.default=r},663:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r={render:()=>n(void 0,void 0,void 0,(function*(){return'\n              <header class="header">\n                <div class="container">\n                  <div class="logo_and_store">\n                    <img class="logo_img" src="./icon.svg" width="80" alt="logo footer">\n                    <a href="/#/"class="main-title">Online Store</a>\n                  </div>\n                  <div class="cart-total-container">\n                    <h2 class="cart-total">Cart total: €<span class="cart-total-inner">0</span></h2>\n                  </div>\n                  <div class="basket-container">\n                    <p><a href="/#/basket"><img class="header-basket" src="./cart.svg" width="80" height="80" alt="logo footer"></a></p>\n                    <div class="header-basket-number">1</div>\n                  </div>\n                </div>\n              </header>\n        '})),after_render:()=>n(void 0,void 0,void 0,(function*(){const e=document.querySelector(".cart-total-inner"),t=JSON.parse(localStorage.getItem("total")||"0");e.innerHTML=t}))};t.default=r},474:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r={render:()=>'\n    <section class="cart-container">\n        <div class="cart-item cart-container-products">\n            <h2 class="text-cart">Products In Cart</h2>\n            <div class="cart-item-content"></div>\n        </div>\n        <div class="cart-item cart-container-summary">\n            <h2 class="text-cart">Summary</h2>\n            <div class="cart-item-content-summary">\n                <div class="summary-item cart-products">\n                    <div class="products-number">Products: <span class="products-number-sp">1</span></div>\n                </div>\n                <div>\n                    <div class="summary-item cart-total">Total: &#8364;&nbsp;<span class="total-money"></span></div>\n                </div>\n                <div class="summary-item cart-input">\n                    <input class="input-summary" type="text" placeholder="Enter promo code">\n                </div>\n                <div class="summary-btn">\n                    <a href="/#/modal" class="btn-buy-now">BUY NOW</a>\n                </div>\n            </div>\n        </div>\n    </section>\n    ',after_render:()=>{const e=document.querySelector(".products-number-sp"),t=document.querySelector(".cart-item-content"),r=JSON.parse(localStorage.getItem("cart")||"[]"),i=document.querySelector(".header-basket-number"),a=r.length;i.innerHTML=`${a}`;const o=r.reduce(((e,t)=>e+ +t.price),0);document.querySelector(".cart-total-inner").innerHTML=`${o}`,e.innerHTML=`${a}`,a&&r.forEach(((e,n)=>{const{id:r,title:i,price:a,images:o,description:c,discountPercentage:s,brand:d,rating:l,stock:u}=e,v=document.createElement("div");t.append(v),v.innerHTML=`\n        <div class='cart-store-container'>\n        <span class='cart-item-number'>${n+1}</span><img class='image-store-cart' src='${o}' alt='product'>\n          <div class='cart-id'>${r}</div>\n          <div class='cart-item-title'>${i}<div>\n          <div class='cart-item-price'>Price: &#8364;&nbsp;${a}</div>\n          <div class='cart-item-description'>${c}</div>\n          <div class='cart-item-discount'><span class="title">Discount percentage: </span>${s}</div>\n          <div class='cart-item-brand'><span class="title">Brand: </span>${d}</div>\n          <div class='cart-item-rating'><span class="title">Rating: </span>${l}</div>\n          <div class='cart-item-stock'><span class="title">Stock: </span>${u}</div>\n          <div class='buttons-container'>\n            <span class='text-items'>1</span><button class='btn-add button-item'>+</button><button class='btn-delete button-item'>-</button>\n          </div>\n          </div>`}));const c=document.querySelectorAll(".btn-add"),s=document.querySelectorAll(".btn-delete"),d=document.querySelector(".total-money"),l=document.querySelector(".cart-total-inner"),u=JSON.parse(localStorage.getItem("total")||"0");d.innerHTML=u,s.forEach(((e,t)=>e.addEventListener("click",(function(){return n(this,void 0,void 0,(function*(){document.querySelectorAll(".text-items")[t].innerHTML="{+count[i].innerHTML - 1}";let e=document.querySelectorAll(".cart-item-price")[t].innerHTML;e=e.slice(14);let n=+d.innerHTML;const r=+n-+e;n-=r;const i=r;localStorage.setItem("total",JSON.stringify(i)),l.innerHTML=`${i}`}))})))),c.forEach(((e,t)=>e.addEventListener("click",(()=>{const e=document.querySelectorAll(".cart-item-price")[t].innerHTML;d.innerHTML=""+(+d.innerHTML+ +e);const n=+d.innerHTML;localStorage.setItem("total",JSON.stringify(n)),l.innerHTML=`${n}`})))),l.innerHTML=u}};t.default=r},979:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(695)),o=e=>r(void 0,void 0,void 0,(function*(){const t={method:"GET",headers:{"Content-Type":"application/json"}};try{const n=yield fetch("https://dummyjson.com/products/"+e,t);return yield n.json()}catch(e){console.log("Error getting documents",e)}})),c={render:()=>r(void 0,void 0,void 0,(function*(){const e=a.default.parseRequestURL(),t=yield o(e.id);return`\n      <section class="section details-section">\n        <div class="description-container">\n              <div class="flex-container">\n              <h2 class="description-title">${t.title}</h2>\n              <div class="block-images">\n                <div class="container-image-description">\n                <img class="main-image-description" src="${t.images[0]}" alt="product-image">\n                </div>\n                <div class="secondary-images-box">\n                </div>\n              </div>\n            <div class="block-description">\n              <div class="block-container">\n                <h3 class="description-item">Price:</h3>\n                <div class="description-price info">${t.price}</viv>\n              </div>\n              <div class="block-container">\n                <h3 class="description-item">Description:</h3>\n                <div class="description-info info">${t.description}</div>\n              </div>\n              <div class="block-container">\n                <h3 class="description-item">Discount:</h3>\n                <div class="discount-info info">${t.discountPercentage}</div>\n              </div>\n              <div class="block-container">\n                <h3 class="description-item">Rating:</h3>\n                <div class="rating-info info">${t.rating}</div>\n              </div>\n              <div class="block-container">\n                <h3 class="description-item">Stock:</h3>\n                <div class="stock-info info">${t.stock}</div>\n              </div>\n              <div class="block-container">\n                <h3 class="description-item">Brand:</h3>\n                <div class="brand-info info">${t.brand}</div>\n              </div>\n            </div>\n            <div class="block-summary">\n\n              <button class="description-btn" id="add_to_cart">Add to cart</button>\n\n              <a href="/#/modal" class="description-btn">BUY NOW</a>\n            </div>\n          </div>\n        </div>\n      </section>`})),renderImages:()=>r(void 0,void 0,void 0,(function*(){const e=a.default.parseRequestURL();(yield o(e.id)).images.forEach((e=>{const t=document.createElement("img");t.classList.add("secondary-image-description"),t.src=e,document.querySelector(".secondary-images-box").append(t)}))})),after_render:()=>r(void 0,void 0,void 0,(function*(){yield c.renderImages();const e=a.default.parseRequestURL(),t=yield o(e.id);document.querySelector("#add_to_cart").addEventListener("click",(()=>{const e=t.id,n=t.title,r=t.images[0],i=t.price,a=t.description,o=t.discountPercentage,c=t.rating,s=t.stock,d=t.brand,l=JSON.parse(localStorage.getItem("cart")||"[]"),u={id:e,title:n,price:i,image:r,description:a,discount:o,brand:d,rating:c,stock:s};localStorage.setItem("cart",JSON.stringify([...l,u]))}));const n=document.querySelectorAll(".secondary-image-description"),r=document.querySelector(".main-image-description");n.forEach((e=>e.addEventListener("click",(e=>{null!==e.target&&(r.src=e.target.src)}))))}))};t.default=c},0:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r={render:()=>n(void 0,void 0,void 0,(function*(){return'\n            <section class="section">\n                <h1> 404 Error </h1>\n            </section>\n        '}))};t.default=r},942:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,c)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(875)),o=i(n(399)),c=()=>r(void 0,void 0,void 0,(function*(){const e={method:"GET",headers:{"Content-Type":"application/json"}};try{const t=yield fetch("https://dummyjson.com/products?limit=100",e);return(yield t.json()).products}catch(e){console.log("Error getting documents",e)}})),s=()=>r(void 0,void 0,void 0,(function*(){return localStorage.getItem("getProduct")?(()=>{const e=localStorage.getItem("getProduct");if(null!==e)return JSON.parse(e)})():yield c()}));let d=!!localStorage.getItem("toggle")&&(()=>{const e=localStorage.getItem("toggle");if(null!==e)return!1!==JSON.parse(e)})();const l={renderCardsSort:()=>'\n    <div class="cards-sort">\n      <select class="select-sort">\n          <option class="select-item" value="">Sort option:</option>\n          <option class="select-item" value="price asc">Sort by price asc</option>\n          <option class="select-item" value="price desc">Sort by price desc</option>\n          <option class="select-item" value="rating asc">Sort by rating asc</option>\n          <option class="select-item" value="rating desc">Sort by rating desc</option>\n          <option class="select-item" value="stock asc">Sort by stock asc</option>\n          <option class="select-item" value="stock desc">Sort by stock desc</option>\n      </select>\n    </div>',renderCardsFound:e=>`\n    <div class="cards-found">\n      Found: ${e.length}\n    </div>`,renderCardsSearch:()=>'\n    <input type="search" class="cards-search" placeholder="Search" />',renderCardsSwitch:()=>!0===d?'\n        <div class="cards-switch">\n          <label class="switch">\n              <input type="checkbox" name="switch" checked>\n              <span class="slider round"></span>\n          </label>\n        </div>':'\n    <div class="cards-switch">\n      <label class="switch">\n          <input type="checkbox" name="switch">\n          <span class="slider round"></span>\n      </label>\n    </div>',renderCardsMenu:()=>r(void 0,void 0,void 0,(function*(){return`\n      <div class="cards-menu">\n        ${l.renderCardsSort()}\n        ${l.renderCardsFound(yield s())}\n        ${l.renderCardsSearch()}\n        ${l.renderCardsSwitch()}\n      </div>\n    `})),renderCard:e=>0===e.length?'<div class="not-found">\n                No products found\n              </div>':!0===d?e.map((e=>`<div class="card-container height">\n                                    <div class="img-container">\n                                        <img class="card-image" src="${e.images[0]}" alt="card-image">\n                                        <div class="card-price">Price: &#8364;${e.price}</div>\n                                        <div class="card-disc-percentage">Discount: ${e.discountPercentage}</div>\n                                        <div class="card-brand">${e.brand}</div>\n                                        <div class="card-rating">Rating: ${e.rating}</div>\n                                        <div class="card-stock">Stock: ${e.stock}</div>\n                                        <div class="btn-container">\n                                            <button class="btn btn-add" data-id='${e.id}'>Add to cart</button>\n                                            <a href="#/p/${e.id}" class="btn btn-details">Details</a>\n                                        </div>\n                                    </div>\n                                </div>`)).join(""):e.map((e=>`<div class="card-container">\n                                    <div class="img-container">\n                                        <img class="card-image" src="${e.images[0]}" alt="card-image">\n                                        <div class="card-price">Price: &#8364;${e.price}</div>\n                                        <div class="card-name">${e.title}</div>\n                                        <div class="card-description">${e.description}</div>\n                                        <div class="card-disc-percentage">Discount: ${e.discountPercentage}</div>\n                                        <div class="card-brand">${e.brand}</div>\n                                        <div class="card-rating">Rating: ${e.rating}</div>\n                                        <div class="card-stock">Stock: ${e.stock}</div>\n                                        <div class="btn-container">\n                                            <button class="btn btn-add" data-id='${e.id}'>Add to cart</button>\n                                            <a href="#/p/${e.id}" class="btn btn-details">Details</a>\n                                        </div>\n                                    </div>\n                                </div>`)).join(""),renderCards:()=>r(void 0,void 0,void 0,(function*(){const e=yield s();return`\n                <div class="cards-table">\n                    ${l.renderCard(e)}\n                </div>\n        `})),renderWrapperCards:()=>r(void 0,void 0,void 0,(function*(){return`\n      <div class="wrapper cards">\n        ${yield l.renderCardsMenu()}\n        ${yield l.renderCards()}\n      </div>\n    `})),renderFilterButton:(e,t)=>`\n      <button class="btn ${e}">${t}</button>\n    `,renderFilterButtons:()=>`\n      <div class="button-filter">\n        ${l.renderFilterButton("reset","Reset")}\n        ${l.renderFilterButton("copy","Copy")}\n      </div>`,renderedFilterItemBody:(e,t)=>e.map((e=>`<div class = "filter-item">\n                    <input type="checkbox" id="${e}" name="${t}">\n                    <label for="${e}">${e}</label>\n                </div>`)).join(""),getRenderedFilterCategoryBody:e=>{const t=a.default.unique(e,"category");return l.renderedFilterItemBody(t,"category")},getRenderedFilterBrandBody:e=>{const t=a.default.unique(e,"brand");return l.renderedFilterItemBody(t,"brand")},renderFilterCategory:()=>r(void 0,void 0,void 0,(function*(){const e=yield c();return`\n    <div class="filter-block category-block">\n      <div class="filter-title category-title">Category</div>\n        <div class="filter-body category-body">\n          ${l.getRenderedFilterCategoryBody(e)}\n        </div>\n    </div>`})),renderFilterBrand:()=>r(void 0,void 0,void 0,(function*(){const e=yield c();return`\n    <div class="filter-block brand-block">\n      <div class="filter-title brand-title">Brand</div>\n        <div class="filter-body brand-body">\n          ${l.getRenderedFilterBrandBody(e)}\n        </div>\n    </div>`})),renderWrapperFilter:()=>r(void 0,void 0,void 0,(function*(){return`\n    <div class="wrapper filter">\n      ${l.renderFilterButtons()}\n      ${yield l.renderFilterCategory()}\n      ${yield l.renderFilterBrand()}\n    </div>\n    `})),render:()=>r(void 0,void 0,void 0,(function*(){return`\n            <main class="main d-flex">\n              ${yield l.renderWrapperFilter()}\n              ${yield l.renderWrapperCards()}\n            </main>\n        `})),after_render:()=>r(void 0,void 0,void 0,(function*(){function e(){return r(this,void 0,void 0,(function*(){const e=yield c(),t=a.default.locationSort(e),n=document.querySelector(".cards-table"),r=document.querySelector(".cards-found");n.innerHTML=`${yield l.renderCards()}`,r.innerHTML=`${l.renderCardsFound(t)}`}))}document.querySelector(".reset").addEventListener("click",(()=>{localStorage.clear()})),document.querySelector(".copy").addEventListener("click",(()=>{o.default.clipboard()})),document.querySelector(".select-sort").addEventListener("input",(t=>{const n=t.target.value;o.default.isLocalStorage("sort",n),e()}));document.querySelectorAll(".select-item").forEach((e=>(e=>{const t=e.value,n=localStorage.getItem("sort");null!==n&&t===JSON.parse(n)&&(e.selected=!0)})(e)));const t=document.querySelector(".cards-search");t.addEventListener("input",(t=>{const n=t.target.value.toLowerCase();o.default.isLocalStorage("search",n),e()}));const n=localStorage.getItem("search");if(null!==n){const e=JSON.parse(n);e&&(t.value=e)}let i=[],u=[];const v=localStorage.getItem("category");if(null!==v){const e=JSON.parse(v);e&&(i=e)}const m=localStorage.getItem("brand");if(m){const e=JSON.parse(m);e&&(u=e)}let p=[];const g=document.querySelectorAll("input[type=checkbox][name=category]"),y=document.querySelectorAll("input[type=checkbox][name=brand]"),f=t=>{t.addEventListener("change",(function(){const n=t.getAttribute("name"),r=t.getAttribute("id");if(p="category"===n?i:u,null!==r){if(p.includes(r)){const e=p.indexOf(r);p.splice(e,1)}else p.push(r);o.default.isLocalStorage("category",`${i}`),o.default.isLocalStorage("brand",`${u}`),e()}}))};g.forEach((e=>f(e))),y.forEach((e=>f(e))),g.forEach((e=>(e=>{const t=localStorage.getItem("category");if(null!==t){const n=JSON.parse(t),r=e.id;n&&n.includes(r)&&(e.checked=!0)}})(e))),y.forEach((e=>(e=>{const t=localStorage.getItem("brand");if(null!==t){const n=JSON.parse(t),r=e.id;n&&n.includes(r)&&(e.checked=!0)}})(e))),document.querySelector(".cards-switch").addEventListener("change",(()=>r(void 0,void 0,void 0,(function*(){d=!1===d,o.default.isLocalStorage("toggle",`${d}`),e()}))));const h=document.querySelector(".cart-total-inner"),b=JSON.parse(localStorage.getItem("cart")||"[]"),S=document.querySelector(".header-basket-number");S.innerHTML=b.length;const k=JSON.parse(localStorage.getItem("total")||"0");let L=JSON.parse(localStorage.getItem("selectedItems")||"[]");L=[...new Set(L)],document.querySelectorAll(".card-container").forEach(((e,t)=>{e.style.backgroundColor=L[t]?"mediumseagreen":""})),h.innerHTML=`${k}`,document.querySelector(".cards-table").addEventListener("click",(e=>r(void 0,void 0,void 0,(function*(){const t=e.target.className,n=e.target.getAttribute("data-id"),r=yield s();if(null!==n&&"btn btn-add"===t){e.target.innerHTML="Add to cart"===e.target.innerHTML?"Drop from cart":"Add to cart";const t=JSON.parse(localStorage.getItem("cart")||"[]"),i=r.find((e=>+e.id==+n)),a=document.querySelector(".cart-total-inner");if("Drop from cart"===e.target.innerHTML){a.innerHTML=`${+a.innerHTML+i.price}`;const e=a.innerHTML;L.push(i.id),localStorage.setItem("selectedItems",JSON.stringify([...new Set(L)])),localStorage.setItem("total",JSON.stringify(e)),localStorage.setItem("cart",JSON.stringify([...t,i])),S.innerHTML=""+(+S.innerHTML+1)}if("Add to cart"===e.target.innerHTML){a.innerHTML=""+(+a.innerHTML-+i.price);const e=a.innerHTML;localStorage.setItem("total",JSON.stringify(e));const n=t.filter((e=>e.id!==i.id));localStorage.setItem("cart",JSON.stringify(n)),L=L.filter((e=>+e==i.id-1)),localStorage.setItem("selectedItems",JSON.stringify([...new Set(L)])),S.innerHTML=""+(+S.innerHTML-1)}}}))))}))};t.default=l},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={render:()=>'\n    <div class="modal">\n        <div class="modal-content">\n            <div class="personal_details">\n                <h2>Personal details</h2>\n                <div>\n                    <input class="input input_name" type="text" placeholder="Name">\n                    <span class="error error-name"></span>\n                </div>\n                <div>\n                    <input class="input input_telephone" type="tel" placeholder="Phone number">\n                    <span class="error error-telephone"></span>\n                </div>\n                <div>\n                    <input class="input input_address" type="text" placeholder="Delivery address">\n                    <span class="error error-address"></span>\n                </div>\n                <div>\n                    <input class="input input_email" type="email" placeholder="E-mail">\n                    <span class="error error-email"></span>\n                </div>\n            </div>\n            <div class="credit_card_details">\n                <h2>Credit card details</h2>\n                <div>\n                    <div class="logo-card-container"><img class="card-logo" src="no-logo-featured.jpg" width="60" height="30">\n                    <input class="input input_card" type="text" name="card-num" placeholder="0000 0000 0000 0000" size="18" id="card-number" minlength="19" maxlength="19"><span class="error error-card"></span>\n                    </div>\n                </div>\n                <div>\n                    <input name="exp_date" class="input exp_date" type="text" maxlength="5" placeholder="MM/YYYY" >\n                    <span class="error error-date" ></span>\n                </div>\n                <div>\n                    <input class="input input_cvv" type="text" name="card-cvv" placeholder="CVV" maxlength="3"><span class="error error-cvv"></span>\n                </div>\n                <div>\n                    <button class="btn_confirm">Check validation</button>&nbsp;<button class="btn_order" disabled="true">Make an order</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',after_render:()=>{const e=document.querySelector(".btn_confirm"),t=document.getElementById("card-number"),n=document.querySelector(".error-card");null!==t&&(t.onkeyup=()=>{let r=t.selectionStart;const i=t.value.replace(/[^0-9]/gi,""),a=[];for(let e=0,t=i.length;e<t;e+=4)a.push(i.substring(e,e+4));if(null!==r){for(let e=r-1;e>=0;e--){const n=t.value[e];(n<"0"||n>"9")&&r--}r+=Math.floor(r/4),t.selectionStart=t.selectionEnd=r}function o(){19===t.value.length?(t.style.background="mediumaquamarine",n.style.display="none"):(t.style.background="salmon",n.innerHTML="Wrong card number !",n.style.display="block")}t.addEventListener("input",o),e.addEventListener("click",o)});const r=document.querySelector(".exp_date"),i=document.querySelector(".error-date");function a(){2===r.value.length&&(r.value+="/"),function(e){const t=(new Date).getFullYear().toString().slice(-2),[n,r]=e.split("/");return"/"===e[2]&&5===e.length&&n.length<=12&&r>=t}(r.value)?(r.style.background="mediumaquamarine",i.style.display="none"):(r.style.background="salmon",i.innerHTML="Wrong card expiration date !",i.style.display="block")}r.addEventListener("input",a),e.addEventListener("click",a);const o=document.querySelector(".input_cvv"),c=document.querySelector(".error-cvv"),s=/\d{3,3}/;function d(){var e;e=o.value,s.test(e)?(o.style.background="mediumaquamarine",c.style.display="none"):(o.style.background="salmon",c.innerHTML="Wrong CVV !",c.style.display="block")}o.addEventListener("input",d),e.addEventListener("click",d);const l=document.querySelector(".input_email"),u=document.querySelector(".error-name"),v=document.querySelector(".error-telephone"),m=document.querySelector(".error-address"),p=document.querySelector(".error-email"),g=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;function y(){var e;e=l.value,g.test(e)?(l.style.background="mediumaquamarine",p.style.display="none"):(l.style.background="salmon",p.innerHTML="Wrong Email !",p.style.display="block")}l.addEventListener("input",y),e.addEventListener("click",y);const f=document.querySelector(".input_name"),h=()=>{f.style.background="";const e=f.value.trim();e.split(" ").every((e=>e.length>=3))?/\b\w+\b(?:.*?\b\w+\b){1}/.test(e)?(f.style.background="mediumaquamarine",u.style.display="none"):f.style.background="salmon":(f.style.background="salmon",u.innerHTML="Wrong Name !",u.style.display="block")};f.addEventListener("input",h),e.addEventListener("click",h);const b=document.querySelector(".input_telephone"),S=/(\+)\d{9}/;function k(){var e;e=b.value,S.test(e)?(b.style.background="mediumaquamarine",v.style.display="none"):(b.style.background="salmon",v.innerHTML="Wrong phone number !",v.style.display="block")}b.addEventListener("input",k),e.addEventListener("click",k);const L=document.querySelector(".input_address"),_=()=>{L.style.background="";const e=L.value.trim();e.split(" ").every((e=>e.length>=5))?/\b\w+\b(?:.*?\b\w+\b){2}/.test(e)?(L.style.background="mediumaquamarine",m.style.display="none"):L.style.background="salmon":(L.style.background="salmon",m.innerHTML="Wrong address !",m.style.display="block")};L.addEventListener("input",_),e.addEventListener("click",_);const w=document.querySelector(".btn_order");e.addEventListener("click",(function(){"mediumaquamarine"===r.style.background&&"mediumaquamarine"===o.style.background&&"mediumaquamarine"===t.style.background&&"mediumaquamarine"===l.style.background&&"mediumaquamarine"===f.style.background&&"mediumaquamarine"===b.style.background&&"mediumaquamarine"===L.style.background&&w.removeAttribute("disabled")})),w.addEventListener("click",(function(){alert("Заказ оформлен!"),localStorage.clear(),setTimeout((()=>window.location.href="index.html"),3e3)}))}};t.default=n}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();